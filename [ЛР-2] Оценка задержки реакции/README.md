
# [ЛР-2] Оценка задержки реакции

### Задание
1. Написать символьный драйвер, который будет генерировать с заданной частотой внешнее воздействие
2. Измерить время реакции(среднее и максимальное)
3. Оценить влияние

### Основные компоненты драйвера
1. Регистрация символьного устройства
```register_chrdev``` :происходит посимвольная регистрация устройства.
После успешной регистрации создается класс устройства ```class```, а затем само устройство ```device```. Также устанавливается таймер, который будет срабатывать каждую секунду и выполнять определенные действия.
2. Обработка открытия и закрытия устройства
3. Обработка ioctl команд:
Команда ```SET_PID_IOCTL``` устанавливает PID процесса, за которым нужно наблюдать.
Команда ```SIGNAL_RECEIVED_IOCTL``` фиксирует время получения сигнала от наблюдаемого процесса и сохраняет его в массив ```history_time```.
4. Обработчик таймера ```timer_callback```. Отправляет сигнал процессу с установленным PID и записывает текущее время начала отсчета.
5. Завершение работы драйвера: удаление устройства, класса и драйвера.

## Шаги для запуска
### 1.Сборка и установка драйвера
```
make
sudo insmod response_analyzer.ko
```
### 2. Компиляция и запуск пользовательской программы
```
gcc main.c -o main
sudo ./main
```
### Удаление драйвера
```
sudo rmmod response_analyzer.ko
```
